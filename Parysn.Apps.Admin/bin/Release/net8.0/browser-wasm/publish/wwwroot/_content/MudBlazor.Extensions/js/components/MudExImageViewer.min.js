export function initializeMudExImageViewer(t,i,r){return new n(t,i,r)}class n{elementRef;dotnet;constructor(n,t,i){this.elementRef=n;this.dotnet=t;this.options=i;i&&i.src&&this.createViewer(i)}createViewer(n){if(this.destroyViewer(),window.MudExImageView)try{this.viewer=window.MudExImageView({id:n.id,prefixUrl:"",maxZoomPixelRatio:n.maxZoomPixelRatio,minZoomLevel:n.minZoomLevel,animationTime:n.animationTime,tileSources:{type:"image",url:n.src},showNavigator:n.showNavigator,navigatorPosition:n.navigatorPosition,navigatorSizeRatio:n.navigatorSizeRatio,navigatorMaintainSizeRatio:!1,navigatorAutoResize:!1,showNavigationControl:!1});n.showNavigator&&this.viewer.addHandler("open",()=>{var t=this.elementRef.querySelector(".navigator"),i;t&&(n.navigatorClass&&(t.style.backgroundColor=t.style.background=null,t.classList.add(n.navigatorClass)),n.navigatorRectangleColor&&(i=t.querySelector(".displayregion"),i&&(i.style.border="2px solid "+n.navigatorRectangleColor)))});this.dotnet.invokeMethodAsync("OnViewerCreated")}catch(t){}}zoomBy(n){this.viewer.viewport.zoomBy(n);this.viewer.viewport.applyConstraints()}reset(){this.viewer.viewport.goHome();this.viewer.viewport.applyConstraints()}getCurrentViewImageDataUrl(){return this.viewer.drawer.canvas.toDataURL("image/png")}print(){var n=window.open("","_blank"),t;n.document.open();n.document.write("<html><head><\/head><body>");t=new Image;t.src=this.getCurrentViewImageDataUrl();t.onload=function(){n.document.body.appendChild(t);t.onload=function(){n.focus();n.print();n.close()}};n.document.close()}toggleFullScreen(){this.viewer.setFullScreen(!this.viewer.isFullPage())}destroyViewer(){this.viewer&&(this.viewer.destroy(),this.viewer=null)}dispose(){this.destroyViewer()}}window.MudExImageViewer=n;